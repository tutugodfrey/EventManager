{"version":3,"sources":["../../src/controllers/eventCenterController.js"],"names":["functs","EventCenterController","eventCenters","req","res","centerId","getField","newEventCenter","centerName","body","location","facilities","cost","push","status","send","parseInt","params","eventCenter","centerHolder","eventCenterPos","indexOf"],"mappings":";;;;;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AACA;AACA,IAAMA,SAAS,qBAAf;;AAEA,IAAMC;AACJ,mCAAc;AAAA;;AACZ,SAAKC,YAAL;AACD;AACD;;;AAJI;AAAA;AAAA,mCAKWC,GALX,EAKgBC,GALhB,EAKqB;AACvB,UAAMC,WAAWL,OAAOM,QAAP,8BAA8B,UAA9B,IAA4C,CAA7D;AACA,UAAMC,iBAAiB;AACvBF,0BADuB;AAErBG,oBAAYL,IAAIM,IAAJ,CAASD,UAFA;AAGrBE,kBAAUP,IAAIM,IAAJ,CAASC,QAHE;AAIrBC,oBAAYR,IAAIM,IAAJ,CAASE,UAJA;AAKrBC,cAAMT,IAAIM,IAAJ,CAASG;AALM,OAAvB;AAOA,kCAAaC,IAAb,CAAkBN,cAAlB;AACAH,UAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBR,cAArB;AACD;AACD;;AAjBI;AAAA;AAAA,oCAkBYJ,GAlBZ,EAkBiBC,GAlBjB,EAkBsB;AACxBA,UAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB;AACD;AACD;;AArBI;AAAA;AAAA,mCAsBWZ,GAtBX,EAsBgBC,GAtBhB,EAsBqB;AACvB,UAAMC,WAAWW,SAASb,IAAIc,MAAJ,CAAWZ,QAApB,CAAjB;AACD;AAFwB;AAAA;AAAA;;AAAA;AAGvB,sLAAsC;AAAA,cAA7Ba,WAA6B;;AACpC,cAAIA,YAAY,UAAZ,MAA4Bb,QAAhC,EAA0C;AACzC;AACCD,gBAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBG,WAArB;AACA;AACD;AACF;AACD;AACA;AACA;AAZuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAanBd,UAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,kBAArB;AACJ;AACD;AArCG;AAAA;AAAA,sCAuCcZ,GAvCd,EAuCmBC,GAvCnB,EAuCwB;AAC1B,UAAMC,WAAWW,SAASb,IAAIc,MAAJ,CAAWZ,QAApB,CAAjB;AACA;AACA,UAAIE,uBAAJ;AACA,UAAIY,qBAAJ;AAJ0B;AAAA;AAAA;;AAAA;AAK5B,4LAAsC;AAAA,cAA7BD,WAA6B;;AAClC,cAAIA,YAAY,UAAZ,MAA4Bb,QAAhC,EAA0C;AACxCc,2BAAeD,WAAf;AACH,gBAAMV,aAAaL,IAAIM,IAAJ,CAASD,UAAT,IAAuBU,YAAYV,UAAZ,CAA1C;AACG,gBAAME,WAAWP,IAAIM,IAAJ,CAASC,QAAT,IAAqBQ,YAAYR,QAAZ,CAAtC;AACA,gBAAMC,aAAaR,IAAIM,IAAJ,CAASE,UAAT,IAAuBO,YAAYP,UAAZ,CAA1C;AACA,gBAAMC,OAAOT,IAAIM,IAAJ,CAASG,IAAT,IAAiBM,YAAYN,IAAZ,CAA9B;AACHL,6BAAiB;AACZF,gCADY;AAEZG,oCAFY;AAGZG,oCAHY;AAIZC,wBAJY;AAKZF;AALY,aAAjB;AAOA;AAEF;AArB2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAsB3B,UAAIU,iBAAiB,4BAAaC,OAAb,CAAqBF,YAArB,CAArB;AACC,UAAI,4BAAaC,cAAb,IAA+Bb,cAAnC,EAAmD;AACjDH,YAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBR,cAArB;AACD,OAFD,MAEO;AACLH,YAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,WAArB;AACD;AACF;AAnEG;;AAAA;AAAA,GAAN;kBAqEed,qB","file":"eventCenterController.js","sourcesContent":["\r\nimport events from './../models/eventsModel';\r\nimport eventCenters from './../models/eventCentersModel';\r\nimport Functs from './../funcs/funcs';\r\n// import EventCenterController from './'\r\nconst functs = new Functs();\r\n\r\nconst EventCenterController = class {\r\n  constructor() {\r\n    this.eventCenters = eventCenters;\r\n  }\r\n  // add a new event center\r\n  addEventCenter(req, res) {\r\n    const centerId = functs.getField(eventCenters, 'centerId') + 1;\r\n    const newEventCenter = {\r\n\t\t  centerId,\r\n      centerName: req.body.centerName,\r\n      location: req.body.location,\r\n      facilities: req.body.facilities,\r\n      cost: req.body.cost,\r\n    };\r\n    eventCenters.push(newEventCenter);\r\n    res.status(201).send(newEventCenter);\r\n  }\r\n  //  return all event centers\r\n  getEventCenters(req, res) {\r\n    res.status(200).send(eventCenters);\r\n  }\r\n  // an event center given its it id is present\r\n  getEventCenter(req, res) {\r\n    const centerId = parseInt(req.params.centerId);\r\n   // const getEventCenter = functs.getObject(eventCenters, centerId);\r\n    for (let eventCenter of eventCenters) {\r\n      if (eventCenter['centerId'] === centerId) {\r\n       // centerCollector = eventCenter\r\n        res.status(200).send(eventCenter);\r\n        break;\r\n      } \r\n    }\r\n    //  if(eventCenterCollector.length > 0){\r\n    //    res.status(200).send(eventCenterCollector)\r\n    //  } else {\r\n        res.status(404).send('Center not Found');\r\n    //  }\r\n  }\r\n\r\n  updateEventCenter(req, res) {\r\n    const centerId = parseInt(req.params.centerId);\r\n    // const getEventCenterId = functs.getObject(eventCenters, 'centerId');\r\n    let newEventCenter;\r\n    let centerHolder;\r\n  for (let eventCenter of eventCenters) {\r\n      if (eventCenter['centerId'] === centerId) {\r\n        centerHolder = eventCenter;\r\n\t\t\t  const centerName = req.body.centerName || eventCenter[centerName];\r\n        const location = req.body.location || eventCenter[location];\r\n        const facilities = req.body.facilities || eventCenter[facilities];\r\n        const cost = req.body.cost || eventCenter[cost];\r\n\t\t\t  newEventCenter = {\r\n          centerId,\r\n          centerName,\r\n          facilities,\r\n          cost,\r\n          location,\r\n\t\t    };\r\n\t  \t}\r\n\r\n\t }\r\n\t  let eventCenterPos = eventCenters.indexOf(centerHolder);\r\n    if (eventCenters[eventCenterPos] = newEventCenter) {\r\n      res.status(200).send(newEventCenter);\r\n    } else {\r\n      res.status(404).send('Not Found');\r\n    }\r\n  }\r\n};\r\nexport default EventCenterController;\r\n"]}