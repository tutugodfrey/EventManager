{"version":3,"sources":["../../src/test/testApi.js"],"names":["users","events","centers","notifications","assert","server","expect","app","expressServer","use","adminUser","regularUser","signedInUser","eventCenter","event","describe","before","sync","force","then","data","console","log","catch","error","done","it","request","get","res","body","to","be","an","post","set","field","attach","userInfo","Object","assign","have","status","send","username","password","token","userType","userId","updateCenter","centerName","location","cost","sits","facilities","put","id","updateEvent","eventType","centerId","notification","message"],"mappings":"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","file":"testApi.js","sourcesContent":["import chai from 'chai';\r\nimport chaiHttp from 'chai-http';\r\nimport Server from './../app';\r\nimport models from './../models/index';\r\nconst users = models.users;\r\nconst events = models.events;\r\nconst centers = models.centers;\r\nconst notifications = models.notifications;\r\nconst assert = chai.assert;\r\nconst server = new Server();\r\nconst expect = chai.expect;\r\nconst app = server.expressServer();\r\nchai.use(chaiHttp);\r\n\r\nconst adminUser = {};\r\nconst regularUser =  {};\r\nconst signedInUser = {};\r\nconst eventCenter = {};\r\nconst event = {};\r\n\r\ndescribe('API routes', () => {\r\n\r\n  before('clear database', function()  { \r\n    return centers.sync({ force: true })\r\n    .then(function(data) {\r\n      console.log(\"success creating table\")\r\n      return notifications.sync({ force: true })\r\n    })\r\n    .then(function(data) {\r\n      console.log(\"success creating table\")\r\n      return users.sync({ force: true })\r\n    })  \r\n    .then(function(data) {\r\n      console.log(\"success creating table\")\r\n      return events.sync({ force: true })\r\n    }) \r\n    .catch(function(error) { \r\n      console.log('table sync error'); \r\n      throw error;\r\n      done(); \r\n    });\r\n  }); \r\n\r\n  // test default route\r\n  describe('Home', () => {\r\n    it('should return welcome message', () => {\r\n      return chai.request(app)\r\n      .get('/')\r\n      .then((res) => {\r\n        expect(res.body).to.be.an('Object')\r\n      });\r\n    })\r\n  });\r\n\r\n  describe('Admin User', () => {\r\n    it('should create new admin user', () => {\r\n      return chai.request(app)\r\n      .post('/users/signup')\r\n      .set('Content-Type', 'multipart/form-data')\r\n      .field(\"fullname\", \"tutu godfrey\",)\r\n      .field(\"username\", \"tutug\",)\r\n      .field(\"email\",\"meandyou@yahoo.com\")\r\n      .field(\"gender\", \"male\")\r\n      .field(\"passwd1\", \"12345\")\r\n      .field(\"passwd2\", \"12345\")\r\n      .field(\"userType\", \"admin\")\r\n      .field(\"securityQtn\", \"what isthe name of your best teacher?\")\r\n      .field(\"securityAns\", \"westle\")\r\n     // .send(user)\r\n      .attach('userPix', 'C:/Users/TUTU GODFREY/Desktop/pic/wp_ss_20150407_0001.png')\r\n      .then((res) => {\r\n        const userInfo = res.body;\r\n        Object.assign(adminUser, res.body)\r\n        expect(res).to.have.status(201)\r\n        expect(res.body).to.be.an('Object')\r\n      });\r\n    })\r\n\r\n    it('should signin a adminUser in and give a token', () => {\r\n      return chai.request(app)\r\n      .post('/users/signin')\r\n      .send({\r\n        username:adminUser.username,\r\n        password:\"12345\"\r\n      })\r\n      .then((res) => {\r\n        Object.assign(signedInUser, res.body);\r\n        expect(res).to.have.status(200)\r\n        expect(res.body).to.be.an('Object')\r\n      });\r\n    })\r\n\r\n    it('should create event Center', () => {\r\n      return chai.request(app)\r\n      .post('/api/centers')\r\n      .set('Content-Type', 'multipart/form-data')\r\n      .set(\"token\", signedInUser.token)\r\n      .field(\"userType\", signedInUser.userType)\r\n      .field(\"centerName\", \"gard park\")\r\n      .field(\"location\", \"Abuja\")\r\n      .field(\"cost\", 240)\r\n      .field(\"sits\", 500)\r\n      .field(\"facilities\", \"Air condition\")\r\n      .field(\"userId\", signedInUser.userId)\r\n      .field(\"facilities\", \"projector\")\r\n      .attach('centerPix', 'C:/Users/TUTU GODFREY/Desktop/pic/wp_ss_20150309_0001.png')\r\n      .then((res) => {\r\n        Object.assign(eventCenter, res.body)\r\n        expect(res).to.have.status(201);\r\n        expect(res.body).to.be.an('object');\r\n      });\r\n    });\r\n\r\n    it('should update an event Center', () => {\r\n      const updateCenter = {\r\n        userType: signedInUser.userType,\r\n        centerName: \"gard park\",\r\n        location: \"Abuja\",\r\n        cost: 120,\r\n        sits: 520,\r\n        facilities: [\"Air condition\", \"Catering\"],\r\n        userId: signedInUser.userId\r\n      }\r\n      return chai.request(app)\r\n      .put(`/api/centers/${eventCenter.id}`)\r\n      .set('token', signedInUser.token)\r\n      .send(updateCenter)\r\n      .then((res) => {\r\n        expect(res).to.have.status(201);\r\n        expect(res.body).to.be.an('object');\r\n      });\r\n    });\r\n\r\n  });  //end admin section\r\n  describe('regular Users', () => {\r\n    it('should create new regular user', () => {\r\n      return chai.request(app)\r\n      .post('/users/signup')\r\n      .set('Content-Type', 'multipart/form-data')\r\n      .field(\"fullname\", \"tut godfrey\",)\r\n      .field(\"username\", \"gtutu\",)\r\n      .field(\"email\",\"allofus@yahoo.com\")\r\n      .field(\"gender\", \"male\")\r\n      .field(\"passwd1\", \"12345\")\r\n      .field(\"passwd2\", \"12345\")\r\n      .field(\"userType\", \"regular\")\r\n      .field(\"securityQtn\", \"what isthe name of your best teacher?\")\r\n      .field(\"securityAns\", \"westle\")\r\n      .attach('userPix', 'C:/Users/TUTU GODFREY/Desktop/pic/wp_ss_20140715_0001.png')\r\n      .then((res) => {\r\n        Object.assign(regularUser, res.body)\r\n        expect(res).to.have.status(201)\r\n        expect(res.body).to.be.an('Object')\r\n      });\r\n    })\r\n\r\n    it('should signin a regularUser in and give a token', () => {\r\n      return chai.request(app)\r\n      .post('/users/signin')\r\n      .send({\r\n        username:\"gtutu\",\r\n        password:\"12345\"\r\n      })\r\n      .then((res) => {\r\n        Object.assign(signedInUser, res.body);\r\n        expect(res).to.have.status(200)\r\n        expect(res.body).to.be.an('Object')\r\n      });\r\n    })\r\n\r\n    it('should create event', () => {\r\n     return chai.request(app)\r\n      .post('/api/events')\r\n      .set(\"Content-Type\", \"multipart/form-data\")\r\n      .set('token', signedInUser.token)\r\n      .field(\"eventType\", \"wedding\")\r\n      .field(\"eventDate\", \"2018-02-10\")\r\n      .field(\"facilities\", eventCenter.facilities[0])\r\n      .field(\"facilities\", eventCenter.facilities[1])\r\n      .field(\"centerId\", eventCenter.id)\r\n      .field(\"userId\", signedInUser.userId)\r\n      .attach('eventPix', 'C:/Users/TUTU GODFREY/Desktop/pic/wp_ss_20150922_0001.png')\r\n      .then((res) => {\r\n        Object.assign(event, res.body)\r\n        expect(res).to.have.status(201);\r\n        expect(res.body).to.be.an('object');\r\n      })\r\n    });\r\n\r\n    it('should update an event', () => {\r\n      const updateEvent = {\r\n        eventType: \"wedding anniversar\",\r\n        centerId: event.centerId,\r\n        userId: signedInUser.userId\r\n      }\r\n      return chai.request(app)\r\n      .put(`/api/events/${event.id}`)\r\n      .set('token', signedInUser.token)\r\n      .send(updateEvent)\r\n      .then((res) => {\r\n        expect(res).to.have.status(201);\r\n        expect(res.body).to.be.an('object');\r\n      })\r\n    });\r\n\r\n  }); // end reuglar user\r\n  \r\n  describe('Notifications', () => {\r\n    it('should signin a adminUser in and give a token', () => {\r\n      return chai.request(app)\r\n      .post('/users/signin')\r\n      .send({\r\n        username:adminUser.username,\r\n        password:\"12345\"\r\n      })\r\n      .then((res) => {\r\n        Object.assign(signedInUser, res.body);\r\n        expect(res).to.have.status(200)\r\n        expect(res.body).to.be.an('Object')\r\n      });\r\n    })\r\n\r\n    it('Create new notification', () => {\r\n      const notification = {\r\n        message: \"your events is cancelled\",\r\n        userType: signedInUser.userType,\r\n        userId:regularUser.id\r\n      }\r\n      return chai.request(app)\r\n      .post('/api/notifications')\r\n      .set('token', signedInUser.token)\r\n      .send(notification)\r\n      .then((res) => {\r\n        expect(res).to.have.status(201)\r\n      });\r\n    });\r\n\r\n    it('Get notification', () => {\r\n      return chai.request(app)\r\n      .get(`/api/notifications/${regularUser.id}`)\r\n      .set('token', signedInUser.token)\r\n      .then((res) => {\r\n        expect(res).to.have.status(200)\r\n      });\r\n    });\r\n  }); //end notification\r\n\r\n});\r\n\r\n"]}